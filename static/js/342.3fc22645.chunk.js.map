{"version":3,"file":"static/js/342.3fc22645.chunk.js","mappings":"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","sources":["components/MainLayout/Product/index.js"],"sourcesContent":["import \"./styles/style.css\"\r\nimport { useEffect, useState } from \"react\";\r\nimport { Alert, Col, Row } from \"antd\"\r\nimport { getCookie } from \"react-use-cookie\";\r\nimport axiosService from \"../../../axios/axiosService\";\r\nimport { BACKEND_URL } from \"../../../constants/default\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { addToCart, changeSize } from \"../../../redux/reducers/cartReducer\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport classNames from \"classnames\";\r\n\r\nconst Product = () => {\r\n\r\n    const pr_id = getCookie(\"pr_id\");\r\n    const [product, setProduct] = useState({});\r\n\r\n    const [size, setSize] = useState(0);\r\n    const [sizes, setArrSizes] = useState([]);\r\n\r\n    const fillProduct = async () => {\r\n        let res = await axiosService.getProductById(pr_id);\r\n        setProduct(res);\r\n        setMainImg((res.images && res.images[0] ? res.images[0].image : \"\"));\r\n    }\r\n\r\n\r\n    const fillSizes = async (id) => {\r\n        let data = await axiosService.getSizes(id);\r\n        // setSize(carts.filter(x => x.id === id).length > 0\r\n        // ? parseInt(carts.filter(x => x.id === id)[0].size) \r\n        // : parseInt(data[0].size));\r\n\r\n        for (const item of carts) {\r\n            data = data.filter(x => parseInt(x.size) !== parseInt(item.size));\r\n        }\r\n\r\n        setArrSizes(data);\r\n    }\r\n\r\n    const carts = useSelector(cart => cart.cart);\r\n\r\n    useEffect(() => {\r\n        if(pr_id){\r\n            fillProduct();\r\n            var MainImg = document.getElementById(\"MainImg\");\r\n            var smallimg = document.getElementsByClassName(\"small-img\");\r\n\r\n            for(var i = 0; i < smallimg.length; i++) {\r\n                smallimg[i].addEventListener(\"click\", (e) => {\r\n                    MainImg.src = smallimg[i].src;\r\n                });\r\n            }\r\n\r\n            fillSizes(pr_id);\r\n        }\r\n\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if(pr_id){\r\n            fillSizes(pr_id);\r\n        }\r\n    }, [carts]);\r\n\r\n    const [mainImg, setMainImg] = useState(\"\");\r\n    const dispatch = useDispatch();\r\n\r\n    const addToCartProduct = async() => {\r\n        let res = await axiosService.getProductById(pr_id);\r\n\r\n        dispatch(addToCart({\r\n            id: res.id,\r\n            title: res.title,\r\n            price: res.price,\r\n            description: res.description,\r\n            image: BACKEND_URL + \"images/\" + res.images[0].image,\r\n            size: size\r\n        }));\r\n\r\n        setSize(0);\r\n        fillSizes(pr_id);\r\n    }\r\n\r\n    let navigate = useNavigate();\r\n\r\n    const onBuyButtonClick = (e) => {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        window.scrollTo(0,0);\r\n\r\n        addToCartProduct();\r\n        navigate(\"/order\")\r\n    }\r\n\r\n    const onCartButtonClick = (e) => {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n\r\n        \r\n        addToCartProduct();\r\n    }\r\n\r\n    const onSelectItem = (e) => {\r\n        setSize(e.target.value);\r\n        if(carts.filter(x => x.id == pr_id).length > 0) {\r\n            dispatch(changeSize({\r\n                id: pr_id,\r\n                size: e.target.value\r\n            }))\r\n        }\r\n    }\r\n\r\n    return (<>\r\n    {pr_id && \r\n        <div className=\"container\">\r\n            <Row>\r\n                <Col sm={24}>\r\n                    <Row >\r\n                        <Col xs={24} md={7} lg={7}>\r\n\r\n                            <div className=\"single-pro-image\">\r\n                                <div className=\"image-product-container\">\r\n                                    <img src={mainImg && BACKEND_URL + \"images/\" + mainImg} width={\"100%\"} id=\"MainImg\" />\r\n                                </div>\r\n\r\n                                <div className=\"small-img-group\">\r\n                                    <Row>\r\n                                    \r\n                                    {product.images && product.images.map((element, index) => {\r\n                                        return (\r\n                                        <Col xs={8} key={\"smallimage\" + index}>\r\n                                            <div  className=\"small-img-col\" onClick={() => {\r\n                                                setMainImg(element.image);\r\n                                            }}><img src={\r\n                                                BACKEND_URL + \"images/\" + element.image\r\n                                            } width={\"100%\"} className=\"small-img\" /></div>\r\n                                            \r\n                                    \r\n                                        </Col>)\r\n                                    })}\r\n                                    \r\n                                    \r\n                                    \r\n                                    </Row>\r\n                                </div>\r\n                            </div></Col>\r\n\r\n                        <Col xs={24} md={{span:13, offset:2}} lg={{span:14, offset:1}}>\r\n                            <div className=\"single-pro-details\">\r\n\r\n                                <h4>{product.title}</h4>\r\n                                <h2>{product.price} грн</h2>\r\n                                <h5>Оберіть розмір</h5>\r\n                                <select value={size} className=\"select\" onChange={onSelectItem}>\r\n                                    <option value={0}>Оберіть розмір</option>\r\n                                    {sizes.map((element, index) => {\r\n                                        return (\r\n                                            <option key={\"size\" + index}>{element.size}</option>\r\n                                        )\r\n                                    })}\r\n                                </select>\r\n                                <div className={classNames({\"d-none\" : size === 0})}>\r\n                                    <button className=\"button-cart-product\" onClick={onCartButtonClick}>ДОДАТИ В КОШИК</button><br />\r\n                                    <button className=\"button-buy-product\" onClick={onBuyButtonClick}>ПРИДБАТИ В 1 КЛІК</button><br />\r\n                                </div>\r\n                                \r\n                                \r\n                                {carts.filter(x => x.id === pr_id).length >= 1 ? <>\r\n                                    <div className=\"alert-image\">\r\n\r\n                                        <Alert message=\"Товар додано у кошик.\" type=\"success\" />\r\n                                        <Link to={\"/order\"}>\r\n                                            Оформити замовлення\r\n                                        </Link>\r\n                                    </div>\r\n                                </> : <></>}\r\n                                \r\n                                \r\n                                <h4>Інформація про кросівки</h4>\r\n                                <span>{product.description}</span>\r\n                            </div>\r\n                        </Col>\r\n                    </Row>\r\n                </Col>\r\n            </Row>\r\n        </div>\r\n}\r\n    </>)\r\n}\r\nexport default Product;"],"names":["pr_id","getCookie","_useState","useState","_useState2","_slicedToArray","product","setProduct","_useState3","_useState4","size","setSize","_useState5","_useState6","sizes","setArrSizes","fillProduct","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","res","wrap","_context","prev","next","axiosService","getProductById","sent","setMainImg","images","image","stop","apply","arguments","fillSizes","_ref2","_callee2","id","data","_iterator","_step","_loop","_context3","getSizes","_createForOfIteratorHelper","carts","item","_context2","value","filter","x","parseInt","s","n","done","delegateYield","t1","e","f","finish","_x","useSelector","cart","useEffect","MainImg","document","getElementById","smallimg","getElementsByClassName","i","length","addEventListener","src","_useState7","_useState8","mainImg","dispatch","useDispatch","addToCartProduct","_ref3","_callee3","_context4","addToCart","title","price","description","BACKEND_URL","navigate","useNavigate","_jsx","_Fragment","children","className","Row","Col","sm","_jsxs","xs","md","lg","width","map","element","index","onClick","span","offset","onChange","target","changeSize","classNames","preventDefault","stopPropagation","window","scrollTo","Alert","message","type","Link","to"],"sourceRoot":""}