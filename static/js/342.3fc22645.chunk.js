"use strict";(self.webpackChunkshop=self.webpackChunkshop||[]).push([[342],{8342:function(e,n,s){s.r(n),s.d(n,{default:function(){return k}});var t=s(7762),r=s(4165),i=s(5861),a=s(9439),c=s(2791),l=s(9607),u=s(9603),o=s(2964),d=s(7082),m=s(7815),f=s(4169),p=s(9434),h=s(9961),g=s(7689),x=s(1087),j=s(1694),v=s.n(j),Z=s(184),k=function(){var e=(0,d.ej)("pr_id"),n=(0,c.useState)({}),s=(0,a.Z)(n,2),j=s[0],k=s[1],w=(0,c.useState)(0),N=(0,a.Z)(w,2),b=N[0],z=N[1],y=(0,c.useState)([]),I=(0,a.Z)(y,2),C=I[0],E=I[1],S=function(){var n=(0,i.Z)((0,r.Z)().mark((function n(){var s;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,m.Z.getProductById(e);case 2:s=n.sent,k(s),M(s.images&&s.images[0]?s.images[0].image:"");case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),B=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n){var s,i,a,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.Z.getSizes(n);case 2:s=e.sent,i=(0,t.Z)(P),e.prev=4,c=(0,r.Z)().mark((function e(){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=a.value,s=s.filter((function(e){return parseInt(e.size)!==parseInt(n.size)}));case 2:case"end":return e.stop()}}),e)})),i.s();case 7:if((a=i.n()).done){e.next=11;break}return e.delegateYield(c(),"t0",9);case 9:e.next=7;break;case 11:e.next=16;break;case 13:e.prev=13,e.t1=e.catch(4),i.e(e.t1);case 16:return e.prev=16,i.f(),e.finish(16);case 19:E(s);case 20:case"end":return e.stop()}}),e,null,[[4,13,16,19]])})));return function(n){return e.apply(this,arguments)}}(),P=(0,p.v9)((function(e){return e.cart}));(0,c.useEffect)((function(){if(e){S();for(var n=document.getElementById("MainImg"),s=document.getElementsByClassName("small-img"),t=0;t<s.length;t++)s[t].addEventListener("click",(function(e){n.src=s[t].src}));B(e)}}),[]),(0,c.useEffect)((function(){e&&B(e)}),[P]);var F=(0,c.useState)(""),q=(0,a.Z)(F,2),D=q[0],M=q[1],L=(0,p.I0)(),T=function(){var n=(0,i.Z)((0,r.Z)().mark((function n(){var s;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,m.Z.getProductById(e);case 2:s=n.sent,L((0,h.Xq)({id:s.id,title:s.title,price:s.price,description:s.description,image:f.z+"images/"+s.images[0].image,size:b})),z(0),B(e);case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),U=(0,g.s0)();return(0,Z.jsx)(Z.Fragment,{children:e&&(0,Z.jsx)("div",{className:"container",children:(0,Z.jsx)(l.Z,{children:(0,Z.jsx)(u.Z,{sm:24,children:(0,Z.jsxs)(l.Z,{children:[(0,Z.jsx)(u.Z,{xs:24,md:7,lg:7,children:(0,Z.jsxs)("div",{className:"single-pro-image",children:[(0,Z.jsx)("div",{className:"image-product-container",children:(0,Z.jsx)("img",{src:D&&f.z+"images/"+D,width:"100%",id:"MainImg"})}),(0,Z.jsx)("div",{className:"small-img-group",children:(0,Z.jsx)(l.Z,{children:j.images&&j.images.map((function(e,n){return(0,Z.jsx)(u.Z,{xs:8,children:(0,Z.jsx)("div",{className:"small-img-col",onClick:function(){M(e.image)},children:(0,Z.jsx)("img",{src:f.z+"images/"+e.image,width:"100%",className:"small-img"})})},"smallimage"+n)}))})})]})}),(0,Z.jsx)(u.Z,{xs:24,md:{span:13,offset:2},lg:{span:14,offset:1},children:(0,Z.jsxs)("div",{className:"single-pro-details",children:[(0,Z.jsx)("h4",{children:j.title}),(0,Z.jsxs)("h2",{children:[j.price," \u0433\u0440\u043d"]}),(0,Z.jsx)("h5",{children:"\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u0440\u043e\u0437\u043c\u0456\u0440"}),(0,Z.jsxs)("select",{value:b,className:"select",onChange:function(n){z(n.target.value),P.filter((function(n){return n.id==e})).length>0&&L((0,h.qN)({id:e,size:n.target.value}))},children:[(0,Z.jsx)("option",{value:0,children:"\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u0440\u043e\u0437\u043c\u0456\u0440"}),C.map((function(e,n){return(0,Z.jsx)("option",{children:e.size},"size"+n)}))]}),(0,Z.jsxs)("div",{className:v()({"d-none":0===b}),children:[(0,Z.jsx)("button",{className:"button-cart-product",onClick:function(e){e.preventDefault(),e.stopPropagation(),T()},children:"\u0414\u041e\u0414\u0410\u0422\u0418 \u0412 \u041a\u041e\u0428\u0418\u041a"}),(0,Z.jsx)("br",{}),(0,Z.jsx)("button",{className:"button-buy-product",onClick:function(e){e.preventDefault(),e.stopPropagation(),window.scrollTo(0,0),T(),U("/order")},children:"\u041f\u0420\u0418\u0414\u0411\u0410\u0422\u0418 \u0412 1 \u041a\u041b\u0406\u041a"}),(0,Z.jsx)("br",{})]}),P.filter((function(n){return n.id===e})).length>=1?(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsxs)("div",{className:"alert-image",children:[(0,Z.jsx)(o.Z,{message:"\u0422\u043e\u0432\u0430\u0440 \u0434\u043e\u0434\u0430\u043d\u043e \u0443 \u043a\u043e\u0448\u0438\u043a.",type:"success"}),(0,Z.jsx)(x.rU,{to:"/order",children:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u0438 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f"})]})}):(0,Z.jsx)(Z.Fragment,{}),(0,Z.jsx)("h4",{children:"\u0406\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044f \u043f\u0440\u043e \u043a\u0440\u043e\u0441\u0456\u0432\u043a\u0438"}),(0,Z.jsx)("span",{children:j.description})]})})]})})})})})}}}]);
//# sourceMappingURL=342.3fc22645.chunk.js.map